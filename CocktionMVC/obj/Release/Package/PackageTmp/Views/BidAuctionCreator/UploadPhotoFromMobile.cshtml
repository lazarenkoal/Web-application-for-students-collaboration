
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <script src="~/Scripts/Jquery/jquery-2.1.3.js" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width" />
    <title>UploadPhotoFromMobile</title>
    <style>
        #uploadPhotoBtn{
            display: none;
        }
    </style>
</head>
<body>
    <input type="file" id="uploadFile" class="btn btn-success"/>
    <div id="info"></div>
    <button id="pushToServerBtn" class="btn btn-success">Загрузиииить!</button>
</body>
<script>
    if (document.getElementById("uploadFile").files.length != 0) {
        $('#pushToServerBtn').show();
    }

    $('#pushToServerBtn').click(function () {
        var formData = new FormData();
        var req = new XMLHttpRequest;
        var fileInput = document.getElementById('uploadFile');
        var filename1 = fileInput.files[0].name;
        formData.append(fileInput.files[0].name, fileInput.files[0]);
        $('#info').empty();
        $('#info').append('<p>загрузка в процессе</p>');
        req.open("POST", "/BidAuctionCreator/UploadPhotoFromMobile/" + '@Model');
        req.send(formData);
        req.onreadystatechange = function () {
            if (req.readyState == 4 && req.status == 200) {
                $('#info').empty();
                $('#formContainer').append('<p>' + req.responseText + '</p>');
            }
        }
    });
</script>
</html>
